<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>flow</title>
	<style>
	*{
		padding: 0;
		margin: 0;
	}
	ul{	
		font-size: 0;
		width: 670px;
		padding: 0;
		border:1px solid black;
		margin: 0 auto;
		display: block;
	}
	ul::after{
		content: "";
		clear: both;
		display: block;
	}
	li{
		width: 200px;
		/*margin: 10px;*/
		list-style: none;
		display: inline-block;
		font-size: 90px;
		float: left;
	}
	li div{
		text-align: center;
		margin-bottom: 10px;
	}
	.bottom{
		width: 100%;
		height: 120px;
		line-height: 120px;
		font-size: 40px;
		background: skyblue;
		text-align: center;
		position: fixed;
		bottom: 0;
		opacity: 0;
		transition: 0.5s;
		left: -100%;
	}
	
</style>
</head>
<body>
	<ul id="body" class="body">
		<li style="margin-right: 10px;"></li>
		<li style="margin-right: 5px;margin-left: 5px;"></li>
		<li style="margin-left: 10px;"></li>
	</ul>
	<div class="bottom" id="bottom">
		正在加载...
	</div>
</body>
<script>
	//获取元素 lis [li,li,li]
	var lis = document.querySelectorAll('#body>li');
	console.log(lis);
	var body = document.getElementById('body');
	var heightArr  = [0,0,0];//高度数组

	//封装随机数函数
	function randomNum(x,y){
		var num= Math.round(Math.random()*(y-x)+x);
		return num;
	}
	//创建固定数量元素
	var num = 30;
	function createDivs(){
		for(var i=0;i<num;i++){
			var items = document.createElement('div');
			var newHeight = randomNum(100,300);
			items.style.height = newHeight+"px";
			items.style.backgroundColor = 'rgba('+randomNum(0,255)+','+randomNum(0,255)+','+randomNum(0,255)+','+randomNum(0.6,0.8)+')';
			items.style.lineHeight = newHeight+"px";
			items.innerText =i+1;
			var index = getIndex();
			lis[index].appendChild(items);
			heightArr[index] += newHeight;
		}
	}
	createDivs();
	//获取最小高度的li标签的下标(获取heightArr里的最小值的下标);
	function getIndex(){
		var minHeight = Math.min(heightArr[0],heightArr[1],heightArr[2]);//最小高度
		var minIndex = heightArr.indexOf(minHeight);
		return minIndex;
	}

	//滚轮事件
	window.onscroll=function(){
		var t = document.documentElement.scrollTop || document.body.scrollTop;
		var bottom = document.getElementById('bottom');
		var s = 1200;
		if(t>=s) { 
			bottom.style.opacity=1;
			bottom.style.left=0;
			setTimeout(function(){
				num+=30;
				createDivs();
				bottom.style.opacity=0;
				bottom.style.left="100%";
			},3000);
			s+=1200;
		} 

		// else if(t < 50){
	
		// }
	}
</script>
</html>